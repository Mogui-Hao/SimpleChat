# SimpleChat

## 简介
一个简单的 Socket 程序, 可以创建/连接服务器.

如果你有安装Python可以通过以下命令运行
```cmd
python main.py
```

## 服务器
运行后输入 `create server` 命令创建一个服务端

创建服务器后可以使用不同命令进行管理, 如 `kick` 命令, 后面加上连接客户端注册的名字即可将对方踢出连接.

使用 `user` 命令执行关于客户端的命令吗, `user` 子命令集有:
+ `list` 获得目前连接的客户端注册的名称
+ `prohibition` 或者 `pro` 可以 执行有关禁言名单的操作, 后面可以可以添加 `add` 添加客户端注册名称即可把客户端加入禁言名单, 使用 `remove` 或者 `rm` 可以把客户端注册名称从禁言名单移除

使用 `stop` 命令可以关闭服务器

## 客户端
运行后输入 `join server` 加入服务器.

加入服务器后可以发送消息, 如果消息什么也没有且只有空格的话服务器将拒绝接受.

## 其他命令
运行文件时可以添加 `--host` 更改绑定或者链接的主机, 如
```cmd
python main.py --host 主机
```
可以添加 `--port` 更改绑定或者链接的端口, 如
```cmd
python main.py --port 端口
```
可以添加 `--password` 设置密码, 如
```cmd
python main.py --password 密码
```
`--host`, `--password` 和 `--port` 也可在输入 `create server` 或者 `join server` 后面添加用来指定

如果你看不懂当前语言可以使用 `language` 或者 `lang` 更改语言, 目前支持语言有 `zh-cn` 和 `en-us`如果只有 `language` 或者 `lang` 着输出当前语言.

使用 `join server` 可能会提示 `你还没取名字` 的字样, 这是你需要使用 `name` 后面添加名字来设置名字, 如果 `name` 后面没有内容则显示当前名字

## 远行参数

在远行时可以添加参数如之前提到的 `--host` 和 `--port`

运行参数通常加在执行文件时的后面如
```cmd
python main.py 运行参数 值
```
如果值包含空格建议用双引号包起来

以下是程序支持的参数
+ `--host` 设置默认绑定的主机
+ `--port` 设置默认绑定的端口
+ `--language` 设置默认的语言
+ `--name` 设置进入时的名字, 类似于进入后使用 `name` 命令设置
+ `--command` 设置进入后输入的命令, 如
+ ```cmd
  python main.py --command "create server"
  ```
  运行后可以直接创建服务器.
+ `--password` 可以设置默认的密码.

## 注意事项
+ 在程序运行时使用程序参数设置默认值， 输入命令行时后面如果再使用参数如创建服务器输入 `create server --port 1000` 那么服务器实际绑定的是后来设置的`1000`而不是运行前设置的
+ 如果有两个客户端注册的名称一样, 那么实际绑定的是后者, 两个客户端都可以发送消息且被其他客户端收到, 但是两个客户端互相看不到对方发送的消息, 前者看不到所有除自己发送以外的消息.  (后续修复)
+ 服务端使用 `--password ` 设置密码后, 客户端也需要使用 `password` 来指定密码加入, 如果密码没指定或者密码错误会被客户端踢出.
